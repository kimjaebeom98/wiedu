# wiedu (with you) - Product Requirements Document

> **버전**: 1.0
> **작성일**: 2026-01-28
> **앱 이름**: wiedu (with you) - "너와 함께"

---

## 1. Executive Summary

### 1.1 제품 개요
wiedu는 **모든 분야의 스터디를 연결하는 모바일 플랫폼**입니다. IT, 부동산, 경제, 스포츠 레슨 등 다양한 분야에서 함께 공부하고 성장하고 싶은 사람들을 연결합니다.

### 1.2 핵심 가치
- **신뢰**: 활동 기반 평판 시스템으로 믿을 수 있는 스터디원 매칭
- **연결**: 동네 기반 + 전국 단위 스터디 검색 및 참여
- **다양성**: IT부터 취미까지 모든 분야의 스터디 지원
- **편의성**: 직관적인 UX로 쉽게 스터디 생성/참여

### 1.3 타겟 시장
- 1차: 20-30대 자기계발에 관심 있는 직장인/취준생
- 2차: 취미 활동을 함께하고 싶은 일반 사용자
- 3차: 전문 분야 멘토링을 원하는 모든 연령층

---

## 2. Product Vision & Goals

### 2.1 비전
> "혼자가 아닌 함께, wiedu와 함께 성장하세요"

모든 사람이 원하는 분야에서 믿을 수 있는 스터디원을 쉽게 찾고, 함께 성장할 수 있는 플랫폼을 만듭니다.

### 2.2 목표

| 단계 | 목표 | KPI |
|------|------|-----|
| MVP (3개월) | 핵심 기능 출시 및 초기 사용자 확보 | MAU 1,000명 |
| Growth (6개월) | 기능 확장 및 사용자 증가 | MAU 10,000명 |
| Scale (12개월) | 수익화 및 AI 기능 도입 | MAU 50,000명, 유료 전환율 5% |

### 2.3 차별화 포인트

1. **신뢰도 시스템**: 온도/별점/배지 복합 평판 시스템
2. **직관적 UX**: 3단계 이내로 스터디 생성/참여 완료
3. **동네 기반 매칭**: 위치 기반 추천으로 오프라인 스터디 활성화
4. **다양한 분야 통합**: 하나의 앱에서 모든 종류의 스터디

---

## 3. Target Users & Personas

### 3.1 Primary Persona: 취준생 지민 (25세)

| 항목 | 내용 |
|------|------|
| 직업 | 컴퓨터공학과 졸업 예정자 |
| 목표 | 포트폴리오용 사이드 프로젝트 팀원 찾기 |
| Pain Point | 오픈채팅으로 팀원 구했는데 잠수 타는 사람 많음 |
| 기대 | 신뢰할 수 있는 팀원, 활동 이력 확인 가능 |
| 사용 시나리오 | "React Native 프로젝트" 검색 → 신뢰도 높은 스터디 신청 |

### 3.2 Secondary Persona: 직장인 현우 (32세)

| 항목 | 내용 |
|------|------|
| 직업 | 마케팅 대리 |
| 목표 | 주말에 테니스 배우고 싶음 |
| Pain Point | 레슨 찾기 어렵고, 좋은 선생님인지 모르겠음 |
| 기대 | 동네 기반 레슨/스터디, 후기 확인 가능 |
| 사용 시나리오 | 동네 설정 → "테니스 레슨" 검색 → 후기 좋은 멘토에게 신청 |

### 3.3 Tertiary Persona: 재테크 관심자 수진 (28세)

| 항목 | 내용 |
|------|------|
| 직업 | 간호사 |
| 목표 | 부동산/주식 공부 스터디 참여 |
| Pain Point | 어디서 스터디를 찾아야 할지 모르겠음 |
| 기대 | 다양한 분야 스터디를 한 곳에서 검색 |
| 사용 시나리오 | "부동산 스터디" 검색 → 온라인 스터디 참여 |

---

## 4. Feature Requirements (MVP)

### 4.1 기능 우선순위 매트릭스

| 우선순위 | 기능 | 중요도 | 난이도 |
|----------|------|--------|--------|
| P0 (필수) | 회원가입/로그인 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |
| P0 (필수) | 스터디 검색/필터링 | ⭐⭐⭐⭐⭐ | ⭐⭐ |
| P0 (필수) | 스터디 생성/모집 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |
| P0 (필수) | 신청/승인 시스템 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |
| P0 (필수) | 사용자 프로필 | ⭐⭐⭐⭐⭐ | ⭐⭐ |
| P1 (MVP) | 기본 평판 시스템 (온도) | ⭐⭐⭐⭐ | ⭐⭐ |
| P1 (MVP) | 기본 알림 (신청/승인) | ⭐⭐⭐⭐ | ⭐⭐ |
| P1 (MVP) | 공지사항 게시판 (단순 CRUD) | ⭐⭐⭐⭐ | ⭐⭐ |
| P1 (MVP) | 외부 채팅 연동 (카카오톡 링크) | ⭐⭐⭐⭐ | ⭐ |
| P2 (Growth) | 실시간 채팅 (WebSocket) | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| P2 (Growth) | 스터디 게시판 확장 (자유/일정/자료/Q&A) | ⭐⭐⭐⭐ | ⭐⭐⭐ |
| P2 (Growth) | 친구 신청 | ⭐⭐⭐ | ⭐⭐ |
| P2 (Growth) | 동네 기반 추천 | ⭐⭐⭐ | ⭐⭐⭐ |
| P2 (Growth) | 전문가 인증 | ⭐⭐⭐ | ⭐⭐⭐ |
| P2 (Growth) | 신고/차단 시스템 | ⭐⭐⭐ | ⭐⭐ |
| P2 (Growth) | 홈 화면/추천 피드 | ⭐⭐⭐ | ⭐⭐ |
| P3 (Scale) | AI 추천 | ⭐⭐ | ⭐⭐⭐⭐ |

---

### 4.2 앱 구조 및 네비게이션

#### 4.2.0 바텀 네비게이션 구조

```
┌─────────────────────────────────────────────────────────────┐
│                        App Screen                            │
├─────────────────────────────────────────────────────────────┤
│  🏠 홈  │  🔍 검색  │  ➕ 생성  │  💬 채팅  │  👤 마이  │
└─────────────────────────────────────────────────────────────┘
```

| 탭 | 화면 | 주요 기능 | MVP/Phase 2 |
|----|------|----------|-------------|
| 🏠 홈 | 홈 피드 | 추천 스터디, 카테고리 필터, 인기 스터디 | MVP |
| 🔍 검색 | 스터디 검색 | 키워드 검색, 상세 필터, 검색 결과 | MVP |
| ➕ 생성 | 스터디 생성 | 단계별 스터디 생성 폼 | MVP |
| 💬 채팅 | 채팅 목록 | MVP: 외부 채팅 링크 목록 / Phase 2: 실시간 채팅 | MVP (간소화) |
| 👤 마이 | 마이페이지 | 프로필, 내 스터디, 설정 | MVP |

#### 4.2.0.1 화면 플로우

```
┌──────────┐     ┌──────────┐     ┌──────────┐
│ 스플래시  │ ──▶ │ 로그인    │ ──▶ │   홈     │
└──────────┘     └──────────┘     └──────────┘
                      │                 │
                      ▼                 ▼
                ┌──────────┐     ┌──────────┐
                │ 회원가입  │     │ 스터디   │
                │ (프로필)  │     │ 상세     │
                └──────────┘     └──────────┘
                                      │
                      ┌───────────────┼───────────────┐
                      ▼               ▼               ▼
                ┌──────────┐   ┌──────────┐   ┌──────────┐
                │ 신청하기  │   │ 게시판   │   │ 멤버목록  │
                └──────────┘   └──────────┘   └──────────┘
```

---

### 4.3 상세 기능 명세

#### 4.3.1 회원가입/로그인 (P0)

**지원 로그인 방식:**
- 카카오 로그인
- 이메일/비밀번호

> **Note**: 네이버/구글/애플 로그인은 Phase 2에서 추가 예정

**회원가입 플로우:**
```
1. 로그인 방식 선택
2. 소셜 인증 또는 이메일 입력
3. (이메일 가입 시) 이메일 인증 코드 발송 및 확인
4. 프로필 설정 (닉네임, 프로필 사진)
5. 관심 분야 선택 (선택사항)
6. 동네 설정 (GPS 또는 수동)
7. 가입 완료
```

**비밀번호 찾기 플로우:**
```
1. "비밀번호 찾기" 클릭
2. 가입된 이메일 입력
3. 비밀번호 재설정 링크 발송 (유효기간 30분)
4. 링크 클릭 → 새 비밀번호 입력
5. 비밀번호 변경 완료 → 로그인 화면 이동
```

**이메일 인증 플로우:**
```
1. 이메일 입력 후 "인증코드 발송" 클릭
2. 6자리 인증코드 이메일 발송 (유효기간 5분)
3. 인증코드 입력 및 확인
4. 인증 완료 → 다음 단계 진행
```

**Acceptance Criteria:**
- [ ] 2가지 로그인 방식 동작 (카카오, 이메일)
- [ ] 중복 이메일/닉네임 체크
- [ ] 약관 동의 처리
- [ ] 자동 로그인 (토큰 저장)
- [ ] 이메일 인증코드 발송 및 검증
- [ ] 비밀번호 재설정 링크 발송 및 처리
- [ ] 인증코드/재설정 링크 만료 처리

---

#### 4.3.2 스터디 검색/필터링 (P0)

**검색 필터:**
| 필터 | 옵션 |
|------|------|
| 분야 (대분류) | 어학, 취업/이직, IT/개발, 자격증, 공무원/고시, 재테크, 디자인, 비즈니스 |
| 세부 분야 (중분류) | 대분류 선택 시 해당 중분류 목록 표시 (아래 카테고리 체계 참조) |
| 유형 | 온라인, 오프라인, 프로젝트, 멘토링/레슨 |
| 지역 | 전국, 내 동네, 거리순 |
| 모집상태 | 모집중, 진행중 |
| 정렬 | 최신순, 인기순, 거리순, 마감임박순 |

**스터디 카테고리 체계 (대분류 → 중분류):**

| 대분류 | 중분류 (세부 주제) |
|--------|-------------------|
| 어학 | 토익, 토플, OPIC, 영어회화, 일본어, 중국어 |
| 취업/이직 | 자소서 첨삭, 면접 스터디, 포트폴리오 |
| IT/개발 | 코딩테스트, 알고리즘, 프론트엔드, 백엔드, AI/ML |
| 자격증 | 정보처리기사, AWS, 컴활, 한국사, CPA, 공인중개사 |
| 공무원/고시 | 7급, 9급, 경찰, 소방, 행정사 |
| 재테크 | 주식, 부동산, 가상자산, 경제공부 |
| 디자인 | UI/UX, 그래픽, 영상편집, 포토샵 |
| 비즈니스 | 창업, 마케팅, PM, 기획 |

> **Note**: 소분류(상세 태그)는 사용자가 스터디 생성 시 직접 입력 가능 (예: "React Native", "SQLD" 등)

**검색 결과 표시 정보:**
- 스터디 제목
- 분야 태그
- 온/오프라인 유형
- 현재 인원/최대 인원
- 스터디장 온도
- 위치 (오프라인인 경우)
- 모집 마감일

**Acceptance Criteria:**
- [ ] 복합 필터 적용 가능
- [ ] 검색어 하이라이트
- [ ] 무한 스크롤 페이지네이션
- [ ] 검색 결과 0건 시 추천 스터디 표시

---

#### 4.3.3 스터디 생성/모집 (P0)

**생성 단계:**
```
Step 1: 기본 정보
- 스터디 제목 (필수)
- 스터디 소개 (필수)
- 대표 이미지 (선택)

Step 2: 카테고리 설정
- 분야 선택 (필수)
- 스터디 유형 선택 (필수)
- 세부 태그 입력 (선택)

Step 3: 모집 정보
- 모집 인원 (필수)
- 모집 마감일 (필수)
- 시작 예정일 (선택)

Step 4: 진행 방식
- 온라인/오프라인/병행
- 만남 주기 (주 1회, 주 2회 등)
- 오프라인 장소 (해당 시)
- 온라인 도구 (Zoom, Discord 등)

Step 5: 추가 정보
- 참가비 (무료/유료)
- 선호 경력/수준
- 자기소개 필수 여부
- 카카오톡 오픈채팅 링크 (선택, MVP 외부 채팅용)

Step 6: 미리보기 및 등록
```

**스터디 상태 라이프사이클 (3상태):**
```
┌─────────┐   스터디장 시작   ┌─────────┐   종료/취소   ┌─────────┐
│ 모집중   │ ──────────────▶ │ 진행중   │ ───────────▶ │  종료   │
│RECRUITING│                  │  ACTIVE  │               │  ENDED  │
└─────────┘                  └─────────┘               └─────────┘
     ▲                            │
     │         추가 모집           │
     └────────────────────────────┘
```

**상태별 설명:**
| 상태 | 설명 | 가능한 액션 |
|------|------|------------|
| 모집중 (RECRUITING) | 멤버 모집 중 | 신청 가능, 수정 가능, 게시판/외부채팅 활성화, 취소 가능 |
| 진행중 (ACTIVE) | 스터디 활동 중 | 추가 모집 가능 (→ 모집중), 게시판/외부채팅 활성화, 탈퇴 가능 |
| 종료 (ENDED) | 스터디 종료 | 후기 작성 가능 (7일 이내), 읽기 전용 |

**종료 구분:**
- 정상 종료: `cancelled_at = NULL`
- 취소: `cancelled_at`에 취소 일시 저장

**UI 배지 (선택사항):**
| 조건 | 표시 |
|------|------|
| 모집중 + 생성 3일 이내 | 🆕 NEW |
| 진행중 → 모집중 전환 | 🔄 추가모집 |

**Acceptance Criteria:**
- [ ] 임시저장 기능
- [ ] 이미지 업로드 (최대 5장)
- [ ] 스터디 수정/삭제 가능
- [ ] 스터디 상태 변경 (모집중 ↔ 진행중 → 종료)
- [ ] 상태 변경 시 멤버 알림

---

#### 4.3.4 스터디 상세 페이지 (P0)

**화면 구성:**
```
┌─────────────────────────────────────────┐
│ ← 뒤로가기              ♡ 북마크  ⋯ 더보기│
├─────────────────────────────────────────┤
│ ┌─────────────────────────────────────┐ │
│ │          대표 이미지                 │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ [IT] [프로젝트]              모집중 🟢  │
│ React Native 사이드 프로젝트 팀원 모집   │
│                                         │
│ ─────────────────────────────────────── │
│ 👤 스터디장: 홍길동 (🌡️42.5°C)          │
│    "안녕하세요! 3년차 프론트 개발자..."  │
│                                         │
│ ─────────────────────────────────────── │
│ 📅 기간: 2026.02.01 ~ 2026.04.30        │
│ 👥 인원: 3/5명                          │
│ 📍 장소: 강남역 근처 카페               │
│ 🔄 주기: 주 2회 (토, 일)                │
│ 💰 비용: 무료                           │
│                                         │
│ ─────────────────────────────────────── │
│ 📝 스터디 소개                          │
│ "함께 React Native로 앱을 만들어볼..."   │
│                                         │
│ ─────────────────────────────────────── │
│ 👥 현재 멤버 (3명)                      │
│ [프로필1] [프로필2] [프로필3] [+더보기]  │
│                                         │
├─────────────────────────────────────────┤
│         [ 🙋 신청하기 ]                 │
└─────────────────────────────────────────┘
```

**표시 정보:**
| 영역 | 표시 항목 |
|------|----------|
| 헤더 | 뒤로가기, 북마크, 더보기(공유/신고) |
| 기본 정보 | 대표 이미지, 분야 태그, 제목, 모집 상태 |
| 스터디장 | 프로필 사진, 닉네임, 온도, 한줄 소개 |
| 상세 정보 | 기간, 인원, 장소, 주기, 비용 |
| 소개 | 스터디 상세 설명 |
| 멤버 | 현재 참여 멤버 프로필 (최대 5명 + 더보기) |
| 액션 | 신청하기 버튼 (상태에 따라 변경) |

**신청 버튼 상태:**
| 상태 | 버튼 텍스트 | 동작 |
|------|-----------|------|
| 비로그인 | 로그인하고 신청하기 | 로그인 화면 이동 |
| 신청 가능 | 신청하기 | 신청 모달 표시 |
| 신청 완료 | 신청 완료 (대기중) | 신청 취소 가능 |
| 이미 멤버 | 채팅방 입장 | 채팅방 이동 |
| 모집 마감 | 모집 마감 | 비활성화 |
| 본인 스터디 | 스터디 관리 | 관리 화면 이동 |

**Acceptance Criteria:**
- [ ] 스터디 상세 정보 표시
- [ ] 북마크 추가/해제
- [ ] 공유 기능 (딥링크)
- [ ] 신고 기능
- [ ] 신청 상태별 버튼 분기
- [ ] 멤버 목록 조회

---

#### 4.3.5 신청/승인 시스템 (P0)

**신청 플로우:**
```
1. 스터디 상세 페이지에서 "신청하기" 클릭
2. 자기소개 작성 (필수인 경우)
3. 신청 완료 → 대기 상태
4. 스터디장 승인/거절
5. 승인 시 → 멤버 등록, 채팅방 입장
6. 거절 시 → 알림 발송
```

**스터디장 관리 화면:**
- 신청자 목록
- 신청자 프로필 (온도, 활동 이력)
- 자기소개 내용
- 승인/거절 버튼
- 거절 사유 입력 (선택)

**멤버 탈퇴 플로우:**
```
1. 멤버가 "스터디 탈퇴" 버튼 클릭
2. 탈퇴 확인 모달 표시
3. 탈퇴 완료 → 채팅방 퇴장
4. 스터디장에게 알림 발송
5. 스터디장인 경우 → 다음 멤버에게 권한 위임 또는 스터디 취소
```

**스터디 가입 제한:**
- 동시 참여 가능한 스터디: 최대 3개
- 제한 초과 시 신청 버튼 비활성화 및 안내 메시지 표시

**Acceptance Criteria:**
- [ ] 중복 신청 방지
- [ ] 신청 취소 가능
- [ ] 승인/거절 알림 발송
- [ ] 멤버 강퇴 기능
- [ ] 멤버 자진 탈퇴 기능
- [ ] 스터디장 권한 위임 기능
- [ ] 스터디 가입 3개 제한 체크

---

#### 4.3.6 사용자 프로필 (P0)

**프로필 정보:**
- 프로필 사진
- 닉네임
- 자기소개
- 관심 분야 태그
- 온도 (평판 점수)
- 받은 후기
- 진행/참여 스터디 목록
- 뱃지/레벨

**Acceptance Criteria:**
- [ ] 프로필 수정 가능
- [ ] 타인 프로필 조회 가능
- [ ] 비공개 정보 설정 가능

---

#### 4.3.7 마이페이지 (P0)

**화면 구성:**
```
┌─────────────────────────────────────────┐
│                마이페이지                │
├─────────────────────────────────────────┤
│ ┌───────┐                               │
│ │프로필  │  홍길동                       │
│ │ 사진  │  🌡️ 42.5°C  ⭐ 4.8           │
│ └───────┘  [프로필 수정]                │
├─────────────────────────────────────────┤
│ 📊 내 활동                              │
│ ┌─────────┬─────────┬─────────┐        │
│ │ 참여중   │ 완료     │ 신청중   │        │
│ │  3/3    │   12    │   2     │        │
│ └─────────┴─────────┴─────────┘        │
│ ⚠️ 참여 가능 스터디: 0개 남음 (최대 3개)  │
├─────────────────────────────────────────┤
│ 📁 내 스터디                            │
│ ├─ 참여중 스터디 (3)               >    │
│ ├─ 종료된 스터디 (12)             >    │
│ └─ 내가 만든 스터디 (5)            >    │
├─────────────────────────────────────────┤
│ 📋 신청 현황                            │
│ ├─ 대기중 (2)                      >    │
│ ├─ 승인됨 (8)                      >    │
│ └─ 거절됨 (1)                      >    │
├─────────────────────────────────────────┤
│ ❤️ 북마크한 스터디                  >    │
│ 👥 친구 목록                        >    │
│ ⭐ 받은 후기                        >    │
├─────────────────────────────────────────┤
│ ⚙️ 설정                             >    │
└─────────────────────────────────────────┘
```

**메뉴 구성:**
| 메뉴 | 설명 |
|------|------|
| 프로필 영역 | 프로필 사진, 닉네임, 온도, 평점, 수정 버튼 |
| 내 활동 | 참여중(현재/최대)/완료/신청중 스터디 수 요약, 참여 제한 안내 |
| 내 스터디 | 참여중, 완료, 내가 만든 스터디 목록 |
| 신청 현황 | 대기중, 승인됨, 거절됨 신청 목록 |
| 북마크 | 찜한 스터디 목록 |
| 친구 목록 | 친구 관리 |
| 받은 후기 | 다른 멤버들이 남긴 후기 |
| 설정 | 계정, 알림, 개인정보 설정 |

**스터디 참여 제한 UI:**
- 참여중 스터디가 3개일 경우: "⚠️ 참여 가능 스터디: 0개 남음 (최대 3개)" 경고 표시
- 스터디 상세 페이지에서 제한 초과 시: 신청 버튼 비활성화 + "이미 3개의 스터디에 참여 중입니다" 안내

**Acceptance Criteria:**
- [ ] 프로필 요약 표시
- [ ] 활동 통계 표시 (참여 제한 포함)
- [ ] 각 메뉴 클릭 시 상세 목록 이동
- [ ] 스터디 상태별 필터링
- [ ] 참여 제한 도달 시 경고 UI 표시

---

#### 4.3.8 설정 화면 (P1)

**설정 메뉴 구성:**
```
┌─────────────────────────────────────────┐
│ ← 설정                                  │
├─────────────────────────────────────────┤
│ 👤 계정 관리                            │
│ ├─ 프로필 수정                     >    │
│ ├─ 비밀번호 변경                   >    │
│ ├─ 연결된 소셜 계정                >    │
│ └─ 동네 설정                       >    │
├─────────────────────────────────────────┤
│ 🔔 알림 설정                            │
│ ├─ 푸시 알림                    [ON]   │
│ ├─ 채팅 알림                    [ON]   │
│ └─ 스터디 알림                  [ON]   │
├─────────────────────────────────────────┤
│ 🔒 개인정보                             │
│ ├─ 차단 사용자 관리                >    │
│ ├─ 개인정보 처리방침               >    │
│ └─ 내 정보 다운로드                >    │
├─────────────────────────────────────────┤
│ ℹ️ 앱 정보                              │
│ ├─ 버전 정보 (v1.0.0)                  │
│ ├─ 이용약관                        >    │
│ ├─ 오픈소스 라이선스               >    │
│ └─ 문의하기                        >    │
├─────────────────────────────────────────┤
│ 🚪 로그아웃                             │
│ 🗑️ 회원탈퇴                             │
└─────────────────────────────────────────┘
```

**계정 관리:**
- 프로필 수정 (닉네임, 사진, 자기소개, 관심분야)
- 비밀번호 변경 (이메일 가입자만)
- 소셜 계정 연결/해제
- 동네 설정 (GPS, 수동 입력)

**알림 설정:**
- 전체 푸시 알림 ON/OFF
- 채팅 알림 ON/OFF
- 스터디 알림 (신청, 승인, 일정 등) ON/OFF

**회원탈퇴:**
```
1. 회원탈퇴 버튼 클릭
2. 탈퇴 사유 선택 (선택)
3. 비밀번호 확인 또는 소셜 재인증
4. 최종 확인 ("탈퇴하기" 입력)
5. 탈퇴 완료 → 로그인 화면 이동
```

**Acceptance Criteria:**
- [ ] 설정 항목별 저장
- [ ] 알림 설정 즉시 반영
- [ ] 로그아웃 시 토큰 삭제
- [ ] 회원탈퇴 시 데이터 삭제 (30일 보관 후)
- [ ] 동네 설정 변경 가능

---

#### 4.3.9 외부 채팅 연동 (P1 - MVP)

**MVP 기능:**
- 스터디 생성 시 카카오톡 오픈채팅 링크 입력
- 스터디 상세 페이지에서 "채팅 참여" 버튼 → 외부 앱 이동
- 채팅 탭에서 참여 중인 스터디의 외부 채팅 링크 목록 표시

**Acceptance Criteria:**
- [ ] 카카오톡 오픈채팅 링크 저장/수정
- [ ] 외부 링크 클릭 시 앱 이동
- [ ] 링크 없는 경우 안내 메시지 표시

---

#### 4.3.9.1 실시간 채팅 (P2 - Phase 2)

> **Note**: Phase 2에서 구현 예정. MVP에서는 외부 채팅(카카오톡) 연동으로 대체.

**채팅 기능:**
- 스터디별 그룹 채팅방
- 1:1 개인 채팅
- 텍스트 메시지
- 이미지 전송
- 읽음 표시
- 알림 설정 (음소거)

**기술 구현:**
- Spring WebSocket + STOMP
- Redis Pub/Sub (다중 서버 환경)

**Acceptance Criteria:**
- [ ] 실시간 메시지 송수신
- [ ] 채팅 히스토리 저장
- [ ] 오프라인 시 푸시 알림
- [ ] 신고/차단 기능

---

#### 4.3.10 친구 신청 (P2)

**기능:**
- 친구 신청 보내기
- 친구 요청 수락/거절
- 친구 목록 관리
- 친구 활동 피드

**Acceptance Criteria:**
- [ ] 친구 수 제한 없음
- [ ] 친구 삭제 가능
- [ ] 친구 온라인 상태 표시 (선택)

---

#### 4.3.11 평판 시스템 (P1)

**온도 시스템:**
- 기본 온도: 36.5°C
- 범위: 0°C ~ 100°C
- 증가 요인: 스터디 완주, 좋은 후기, 활발한 활동
- 감소 요인: 노쇼, 나쁜 후기, 신고

**카테고리별 전문성 온도 시스템 (차별화 기능):**

> 당근마켓의 "매너온도"와 유사하지만, **카테고리별로 전문성을 측정**하는 차별화된 시스템

| 상태 | 설명 |
|------|------|
| 미참여 | 해당 카테고리 스터디 참여 이력 없음 (🔒 잠금 표시) |
| 활성화 | 첫 참여 시 0°C로 시작, 활동에 따라 온도 상승 |

**온도 등급:**
| 등급 | 온도 범위 | 배지 | 혜택 |
|------|----------|------|------|
| 🌱 새싹 | 0~20°C | 입문자 | 기본 프로필 |
| 🌿 성장 | 20~40°C | 학습자 | 스터디 추천 우선 |
| 🌳 숙련 | 40~60°C | 숙련자 | **스터디장 페이지 해금** |
| 🔥 전문 | 60~80°C | 전문가 | 프로필 상단 노출 |
| ⭐ 마스터 | 80°C+ | 마스터 | 멘토 매칭 자격 |

**온도 변동 요인:**
| 활동 | 온도 변화 |
|------|----------|
| 해당 분야 스터디 참여 | +0.5°C |
| 해당 분야 스터디 완주 | +2.0°C |
| 스터디장으로 운영 | +3.0°C |
| 완주율 90% 이상 유지 | +1.5°C 보너스 |
| 좋은 리뷰 받음 | +0.3°C |
| 나쁜 리뷰 / 노쇼 | -2.0°C |

**스터디장 페이지 (40°C 이상 해금):**
- 40°C 달성 시 "스터디장 페이지 해금" 축하 화면 표시
- 해금 후 꾸밀 수 있는 전용 프로필 페이지 제공
- 구성 요소: 대표 온도, 분야별 전문성 그래프, 운영 통계, 소개, 리뷰

**별점 시스템:**
- 스터디 종료 후 상호 평가
- 1~5점 평가
- 세부 항목: 시간 준수, 적극성, 소통, 전문성

**뱃지 시스템:**
- 활동 기반 자동 부여
- 예: "스터디왕" (10개 완주), "소통왕" (채팅 활발), "멘토" (높은 평점)

**Acceptance Criteria:**
- [ ] 온도 실시간 반영
- [ ] 익명 평가 옵션
- [ ] 평가 수정 불가 (신뢰성)

---

#### 4.3.12 스터디 게시판 (P1)

**게시판 종류:**
| 게시판 | 설명 | 작성 권한 |
|--------|------|----------|
| 공지사항 | 스터디장이 중요 공지 작성 | 스터디장만 |
| 가입인사 | 새 멤버 자기소개 | 모든 멤버 |
| 자유게시판 | 일반적인 소통 | 모든 멤버 |
| 일정/모임 | 오프라인/온라인 일정 공유 | 모든 멤버 |
| 자료공유 | 스터디 자료 업로드 | 모든 멤버 |
| Q&A | 질문과 답변 | 모든 멤버 |

**게시글 기능:**
- 제목 + 본문 작성
- 이미지/파일 첨부 (최대 10개)
- 댓글/대댓글
- 좋아요
- 고정 글 (스터디장 권한)
- 수정/삭제

**일정 게시글 특별 기능:**
- 날짜/시간 선택
- 장소 입력 (지도 연동)
- 참석 여부 투표 (참석/불참/미정)
- 참석자 목록 표시
- 일정 알림 발송 (D-1, 당일)

**Acceptance Criteria:**
- [ ] 게시판 종류별 탭 분리
- [ ] 게시글 CRUD
- [ ] 댓글/대댓글 기능
- [ ] 이미지/파일 업로드
- [ ] 일정 참석 투표 기능
- [ ] 푸시 알림 (새 공지, 일정 알림)

---

#### 4.3.13 알림/푸시 (P1)

**알림 종류:**
| 알림 유형 | 설명 | 푸시 여부 |
|----------|------|----------|
| 스터디 신청 | 새로운 신청자 알림 (스터디장) | ✅ |
| 신청 결과 | 승인/거절 결과 (신청자) | ✅ |
| 새 메시지 | 채팅 메시지 도착 | ✅ (설정 가능) |
| 새 공지사항 | 스터디 공지 등록 | ✅ |
| 일정 알림 | D-1, 당일 일정 알림 | ✅ |
| 친구 요청 | 새로운 친구 요청 | ✅ |
| 후기 요청 | 스터디 종료 후 후기 작성 요청 | ✅ |
| 멘션 | 게시글/댓글에서 멘션됨 | ✅ |
| 스터디 상태 변경 | 진행중/종료 상태 변경 | ✅ |

**알림 설정:**
- 전체 알림 ON/OFF
- 채팅 알림 ON/OFF (스터디별)
- 마케팅 알림 수신 동의

**Acceptance Criteria:**
- [ ] FCM 연동 (iOS/Android)
- [ ] 인앱 알림 목록 표시
- [ ] 알림 읽음/삭제 처리
- [ ] 알림 설정 저장
- [ ] 딥링크로 해당 화면 이동

---

#### 4.3.14 동네 기반 추천 (P2)

**위치 설정:**
- GPS 자동 감지
- 수동 동네 설정
- 최대 2개 동네 등록

**추천 알고리즘:**
- 거리 기반 정렬
- 동네에서 인기 스터디
- 동네 활동 많은 사용자 추천

**Acceptance Criteria:**
- [ ] 위치 권한 요청 처리
- [ ] 동네 변경 가능
- [ ] 거리 필터 (1km, 3km, 5km, 10km)

---

#### 4.3.15 전문가 인증 (P2)

**인증 방법:**
- 자격증 업로드
- 경력 증빙 (선택)
- 관리자 승인 후 뱃지 부여

**표시:**
- 프로필에 "인증된 전문가" 뱃지
- 검색 필터에서 "전문가 스터디" 옵션

---

#### 4.3.16 신고/차단 시스템 (P2)

**신고 대상:**
- 사용자 신고
- 스터디 신고
- 게시글/댓글 신고
- 채팅 메시지 신고

**신고 사유:**
| 사유 | 설명 |
|------|------|
| 스팸/광고 | 부적절한 홍보성 콘텐츠 |
| 욕설/비방 | 모욕적이거나 공격적인 언어 |
| 허위 정보 | 거짓 정보 또는 사기 |
| 노쇼/무단 이탈 | 연락 없이 스터디 불참 |
| 성희롱/불쾌한 행동 | 부적절한 성적 언급 또는 행동 |
| 기타 | 직접 입력 |

**신고 처리 플로우:**
```
1. 신고 접수 → 관리자 검토 대기
2. 관리자 검토 → 적합/부적합 판단
3. 적합 시 → 경고, 일시정지, 영구정지 조치
4. 부적합 시 → 신고 기각
5. 피신고자 온도 감소 (심각도에 따라)
```

**차단 기능:**
- 특정 사용자 차단
- 차단 시 해당 사용자의 스터디/게시글 숨김
- 차단된 사용자와 채팅 불가
- 차단 목록 관리 (해제 가능)

**Acceptance Criteria:**
- [ ] 신고 모달 UI
- [ ] 신고 사유 선택 + 상세 설명 입력
- [ ] 관리자 신고 처리 화면 (향후)
- [ ] 차단/차단해제 기능
- [ ] 차단된 사용자 콘텐츠 필터링

---

#### 4.3.17 홈 화면/추천 피드 (P2)

**홈 화면 구성:**
```
┌─────────────────────────────────────┐
│  🔍 검색바                           │
├─────────────────────────────────────┤
│  [IT] [어학] [재테크] [운동] [+더보기] │  ← 카테고리 필터
├─────────────────────────────────────┤
│  📍 내 동네 인기 스터디               │
│  ┌─────┐ ┌─────┐ ┌─────┐           │
│  │카드1│ │카드2│ │카드3│ → 가로 스크롤│
│  └─────┘ └─────┘ └─────┘           │
├─────────────────────────────────────┤
│  🔥 지금 뜨는 스터디                  │
│  ┌─────────────────────────────┐   │
│  │ 스터디 리스트 (세로)           │   │
│  │ ...                          │   │
│  └─────────────────────────────┘   │
├─────────────────────────────────────┤
│  👀 최근 본 스터디                   │
│  ┌─────┐ ┌─────┐ → 가로 스크롤      │
│  └─────┘ └─────┘                   │
└─────────────────────────────────────┘
```

**추천 알고리즘 (기본):**
- 관심 분야 기반 추천
- 지역 기반 추천 (가까운 순)
- 인기순 (신청 수, 조회 수)
- 최신순

**Acceptance Criteria:**
- [ ] 홈 화면 레이아웃 구현
- [ ] 카테고리 필터 동작
- [ ] 가로/세로 스크롤 스터디 목록
- [ ] Pull to Refresh
- [ ] 최근 본 스터디 저장

---

#### 4.3.18 UX 상태 디자인 (P1)

**로딩 상태 (Skeleton UI):**
| 화면 | 스켈레톤 구성 |
|------|-------------|
| 스터디 목록 | 카드 형태 플레이스홀더 (3-4개) |
| 스터디 상세 | 이미지 + 텍스트 블록 플레이스홀더 |
| 프로필 | 원형 아바타 + 텍스트 라인 플레이스홀더 |
| 채팅 목록 | 리스트 아이템 플레이스홀더 |

**에러 상태:**
| 에러 유형 | UI 표시 |
|----------|---------|
| 네트워크 오류 | "인터넷 연결을 확인해주세요" + 재시도 버튼 |
| 서버 오류 (5xx) | "일시적인 오류가 발생했습니다" + 재시도 버튼 |
| 권한 오류 (401/403) | 자동 로그아웃 또는 권한 안내 |
| 데이터 없음 (404) | "요청하신 정보를 찾을 수 없습니다" |
| 요청 제한 (429) | "잠시 후 다시 시도해주세요" |

**Empty 상태:**
| 화면 | 메시지 | 액션 |
|------|--------|------|
| 스터디 검색 결과 | "검색 결과가 없습니다" | 추천 스터디 표시 |
| 내 스터디 목록 | "아직 참여중인 스터디가 없습니다" | "스터디 찾아보기" 버튼 |
| 채팅 목록 | "아직 채팅이 없습니다" | "스터디에 참여해보세요" 안내 |
| 알림 목록 | "새로운 알림이 없습니다" | - |
| 북마크 목록 | "북마크한 스터디가 없습니다" | "스터디 둘러보기" 버튼 |
| 친구 목록 | "아직 친구가 없습니다" | "스터디에서 친구를 만들어보세요" |
| 받은 후기 | "아직 받은 후기가 없습니다" | "스터디를 완료하면 후기를 받을 수 있어요" |

**Acceptance Criteria:**
- [ ] 모든 목록 화면에 스켈레톤 UI 적용
- [ ] 에러 유형별 적절한 메시지 표시
- [ ] Empty 상태에서 적절한 CTA 제공
- [ ] 재시도 버튼 동작
- [ ] 오프라인 상태 배너 표시

---

## 5. Technical Architecture

### 5.1 기술 스택

| 영역 | 기술 | 선정 이유 |
|------|------|----------|
| **Mobile** | React Native + Expo | 크로스 플랫폼, 빠른 개발, 1인 개발에 적합 |
| **Backend** | Spring Boot 3.x | 개발자 숙련도, 안정성, 확장성 |
| **Database** | MySQL 8.0 | 안정적, JPA 호환, 풍부한 자료 |
| **Cache** | Redis | 세션 관리, 실시간 채팅 |
| **Real-time** | Spring WebSocket + STOMP | Spring 생태계 통일 |
| **Auth** | Spring Security + OAuth2 | 소셜 로그인 통합 |
| **Storage** | AWS S3 | 이미지/파일 저장 |
| **Deploy** | AWS (EC2, RDS, ElastiCache) | 확장성, 안정성 |
| **Push** | Firebase Cloud Messaging | 크로스 플랫폼 푸시 |

### 5.2 시스템 아키텍처

```
┌─────────────────────────────────────────────────────────────┐
│                        Client (Mobile)                       │
│                    React Native + Expo                       │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                     AWS Load Balancer                        │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                   Spring Boot Application                    │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐   │
│  │   Auth   │  │  Study   │  │   Chat   │  │   User   │   │
│  │ Service  │  │ Service  │  │ Service  │  │ Service  │   │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘   │
└─────────────────────────────────────────────────────────────┘
                              │
              ┌───────────────┼───────────────┐
              ▼               ▼               ▼
        ┌──────────┐   ┌──────────┐   ┌──────────┐
        │  MySQL   │   │  Redis   │   │ AWS S3   │
        │   RDS    │   │ (Cache)  │   │ (Files)  │
        └──────────┘   └──────────┘   └──────────┘
```

### 5.3 데이터베이스 ERD (핵심 테이블)

```
┌─────────────┐       ┌─────────────┐       ┌─────────────┐
│    users    │       │   studies   │       │   members   │
├─────────────┤       ├─────────────┤       ├─────────────┤
│ id          │───┐   │ id          │───┐   │ id          │
│ email       │   │   │ title       │   │   │ user_id     │──┐
│ nickname    │   │   │ description │   │   │ study_id    │──┤
│ profile_img │   │   │ category    │   │   │ role        │  │
│ temperature │   │   │ type        │   │   │ status      │  │
│ level       │   └──▶│ leader_id   │   └──▶│ joined_at   │  │
│ status      │       │ max_members │       └─────────────┘  │
│ email_verified│     │ location    │                        │
│ last_login_at│      │ start_date  │       ┌─────────────┐  │
│ created_at  │       │ end_date    │       │   reviews   │  │
└─────────────┘       │ view_count  │       ├─────────────┤  │
                      │ status      │ ← RECRUITING/ACTIVE/ENDED │
                      │ cancelled_at│ ← 취소 시 일시 저장    │
                      │ kakao_link  │ ← 외부 채팅 링크       │
                      │ created_at  │                        │
                      └─────────────┘                        │
                                            │ id          │  │
┌─────────────┐       ┌─────────────┐       │ reviewer_id │◀─┤
│applications │       │   chats     │       │ reviewee_id │◀─┘
├─────────────┤       ├─────────────┤       │ study_id    │
│ id          │       │ id          │       │ rating      │
│ user_id     │       │ study_id    │       │ content     │
│ study_id    │       │ type        │       │ created_at  │
│ intro       │       │ created_at  │       └─────────────┘
│ status      │       └─────────────┘
│ created_at  │
└─────────────┘       ┌─────────────┐
                      │  messages   │
┌─────────────┐       ├─────────────┤
│ friendships │       │ id          │
├─────────────┤       │ chat_id     │
│ id          │       │ sender_id   │
│ requester_id│       │ content     │
│ addressee_id│       │ type        │
│ status      │       │ created_at  │
│ created_at  │       └─────────────┘
└─────────────┘

┌─────────────┐       ┌─────────────┐
│    posts    │       │  comments   │
├─────────────┤       ├─────────────┤
│ id          │───┐   │ id          │
│ study_id    │   │   │ post_id     │◀─┐
│ author_id   │   │   │ author_id   │  │
│ board_type  │   │   │ parent_id   │  │
│ title       │   │   │ content     │  │
│ content     │   └──▶│ created_at  │  │
│ is_pinned   │       └─────────────┘  │
│ created_at  │                        │
└─────────────┘       ┌─────────────┐  │
                      │  schedules  │  │
┌─────────────┐       ├─────────────┤  │
│ attachments │       │ id          │  │
├─────────────┤       │ post_id     │◀─┘
│ id          │       │ event_date  │
│ post_id     │       │ location    │
│ file_url    │       │ created_at  │
│ file_type   │       └─────────────┘
│ created_at  │
└─────────────┘       ┌─────────────┐
                      │  rsvps      │
                      ├─────────────┤
                      │ id          │
                      │ schedule_id │
                      │ user_id     │
                      │ status      │
                      │ created_at  │
                      └─────────────┘

# 추가 테이블

┌─────────────┐       ┌─────────────┐       ┌─────────────┐
│email_verifications│ │password_resets│     │ social_accounts│
├─────────────┤       ├─────────────┤       ├─────────────┤
│ id          │       │ id          │       │ id          │
│ user_id     │       │ user_id     │       │ user_id     │
│ email       │       │ token       │       │ provider    │
│ code        │       │ expires_at  │       │ provider_id │
│ expires_at  │       │ used_at     │       │ created_at  │
│ verified_at │       │ created_at  │       └─────────────┘
│ created_at  │       └─────────────┘
└─────────────┘

┌─────────────┐       ┌─────────────┐       ┌─────────────┐
│notifications│       │   reports   │       │   blocks    │
├─────────────┤       ├─────────────┤       ├─────────────┤
│ id          │       │ id          │       │ id          │
│ user_id     │       │ reporter_id │       │ blocker_id  │
│ type        │       │ target_type │       │ blocked_id  │
│ title       │       │ target_id   │       │ created_at  │
│ content     │       │ reason      │       └─────────────┘
│ is_read     │       │ description │
│ deep_link   │       │ status      │       ┌─────────────┐
│ created_at  │       │ created_at  │       │user_locations│
└─────────────┘       └─────────────┘       ├─────────────┤
                                            │ id          │
┌─────────────┐       ┌─────────────┐       │ user_id     │
│   badges    │       │ user_badges │       │ latitude    │
├─────────────┤       ├─────────────┤       │ longitude   │
│ id          │       │ id          │       │ address     │
│ name        │       │ user_id     │       │ is_primary  │
│ description │       │ badge_id    │       │ created_at  │
│ icon_url    │       │ earned_at   │       └─────────────┘
│ condition   │       └─────────────┘
└─────────────┘                             ┌─────────────┐
                                            │   likes     │
┌─────────────┐       ┌─────────────┐       ├─────────────┤
│  interests  │       │user_interests│      │ id          │
├─────────────┤       ├─────────────┤       │ user_id     │
│ id          │       │ id          │       │ post_id     │
│ name        │       │ user_id     │       │ created_at  │
│ category    │       │ interest_id │       └─────────────┘
│ icon        │       │ created_at  │
└─────────────┘       └─────────────┘

# 스터디 카테고리 테이블 (대분류/중분류/소분류)

┌─────────────────┐       ┌─────────────────┐       ┌─────────────────┐
│study_categories │       │study_subcategories│     │  study_tags     │
├─────────────────┤       ├─────────────────┤       ├─────────────────┤
│ id              │◀──┐   │ id              │◀──┐   │ id              │
│ name            │   │   │ category_id     │───┘   │ study_id        │
│ code            │   │   │ name            │       │ subcategory_id  │───┐
│ sort_order      │   │   │ code            │       │ custom_tag      │   │ ← 소분류
│ icon            │   │   │ sort_order      │       │ created_at      │   │
│ created_at      │   │   │ created_at      │       └─────────────────┘   │
└─────────────────┘   │   └─────────────────┘                             │
                      │                                                    │
                      └── 대분류 (어학, IT/개발 등)                          │
                                                                          │
                         중분류 (토익, 코딩테스트 등) ◀────────────────────────┘

┌─────────────┐
                                            │  bookmarks  │
                                            ├─────────────┤
                                            │ id          │
                                            │ user_id     │
                                            │ study_id    │
                                            │ created_at  │
                                            └─────────────┘
```

### 5.4 API 설계 (주요 엔드포인트)

```
# 인증
POST   /api/auth/login          # 로그인
POST   /api/auth/signup         # 회원가입
POST   /api/auth/oauth/{provider} # 소셜 로그인
POST   /api/auth/refresh        # 토큰 갱신
POST   /api/auth/logout         # 로그아웃
POST   /api/auth/email/send     # 이메일 인증코드 발송
POST   /api/auth/email/verify   # 이메일 인증코드 확인
POST   /api/auth/password/reset-request  # 비밀번호 재설정 요청 (이메일 발송)
POST   /api/auth/password/reset          # 비밀번호 재설정 (새 비밀번호 설정)

# 사용자
GET    /api/users/me            # 내 프로필
PUT    /api/users/me            # 프로필 수정
GET    /api/users/{id}          # 사용자 조회
GET    /api/users/{id}/studies  # 사용자 스터디 목록
GET    /api/users/{id}/reviews  # 받은 후기

# 스터디
GET    /api/studies             # 스터디 목록 (필터, 검색)
POST   /api/studies             # 스터디 생성
GET    /api/studies/{id}        # 스터디 상세
PUT    /api/studies/{id}        # 스터디 수정
DELETE /api/studies/{id}        # 스터디 삭제
POST   /api/studies/{id}/apply  # 신청하기
GET    /api/studies/{id}/applications # 신청자 목록
PUT    /api/studies/{id}/applications/{appId} # 승인/거절

# 채팅
GET    /api/chats               # 채팅방 목록
GET    /api/chats/{id}/messages # 메시지 히스토리
WS     /ws/chat                 # 실시간 채팅 WebSocket

# 친구
GET    /api/friends             # 친구 목록
POST   /api/friends/request     # 친구 요청
PUT    /api/friends/{id}/accept # 요청 수락
DELETE /api/friends/{id}        # 친구 삭제

# 후기
POST   /api/reviews             # 후기 작성
GET    /api/reviews/{studyId}   # 스터디 후기 목록

# 게시판
GET    /api/studies/{id}/posts           # 게시글 목록 (board_type 필터)
POST   /api/studies/{id}/posts           # 게시글 작성
GET    /api/studies/{id}/posts/{postId}  # 게시글 상세
PUT    /api/studies/{id}/posts/{postId}  # 게시글 수정
DELETE /api/studies/{id}/posts/{postId}  # 게시글 삭제
POST   /api/posts/{postId}/comments      # 댓글 작성
DELETE /api/comments/{commentId}         # 댓글 삭제
POST   /api/posts/{postId}/like          # 좋아요 토글

# 일정
POST   /api/studies/{id}/schedules       # 일정 생성
GET    /api/studies/{id}/schedules       # 일정 목록
POST   /api/schedules/{scheduleId}/rsvp  # 참석 여부 응답
GET    /api/schedules/{scheduleId}/rsvps # 참석자 목록

# 알림
GET    /api/notifications                # 알림 목록
PUT    /api/notifications/{id}/read      # 읽음 처리
PUT    /api/notifications/read-all       # 전체 읽음 처리
DELETE /api/notifications/{id}           # 알림 삭제
GET    /api/notifications/settings       # 알림 설정 조회
PUT    /api/notifications/settings       # 알림 설정 수정

# 신고/차단
POST   /api/reports                      # 신고하기
GET    /api/blocks                       # 차단 목록
POST   /api/blocks                       # 차단하기
DELETE /api/blocks/{userId}              # 차단 해제

# 스터디 관리
POST   /api/studies/{id}/leave           # 스터디 탈퇴
PUT    /api/studies/{id}/status          # 스터디 상태 변경 (RECRUITING/ACTIVE/ENDED)
PUT    /api/studies/{id}/transfer        # 스터디장 권한 위임
GET    /api/studies/{id}/members         # 멤버 목록 조회
DELETE /api/studies/{id}/members/{userId} # 멤버 강퇴
PUT    /api/studies/{id}/kakao-link      # 외부 채팅 링크 설정

# 파일 업로드
POST   /api/files/upload                 # 파일/이미지 업로드 (multipart/form-data)
DELETE /api/files/{fileId}               # 파일 삭제

# 홈/추천
GET    /api/home/feed                    # 홈 피드 (추천 스터디)
GET    /api/home/nearby                  # 내 주변 스터디
GET    /api/home/popular                 # 인기 스터디
GET    /api/users/me/recent              # 최근 본 스터디

# 북마크
GET    /api/bookmarks                    # 북마크 목록
POST   /api/studies/{id}/bookmark        # 북마크 추가
DELETE /api/studies/{id}/bookmark        # 북마크 삭제

# 마이페이지
GET    /api/users/me/studies             # 내 스터디 목록 (필터: status)
GET    /api/users/me/applications        # 내 신청 현황 (필터: status)
GET    /api/users/me/created             # 내가 만든 스터디

# 위치
GET    /api/locations                    # 내 동네 목록
POST   /api/locations                    # 동네 추가
DELETE /api/locations/{id}               # 동네 삭제
PUT    /api/locations/{id}/primary       # 대표 동네 설정
```

### 5.5 기술적 고려사항

#### 5.5.1 보안

| 항목 | 구현 방안 |
|------|----------|
| 통신 암호화 | HTTPS (TLS 1.3) 필수 |
| 인증 토큰 | JWT (Access Token 30분, Refresh Token 7일) |
| 비밀번호 | bcrypt 해싱 (cost factor 12) |
| API 보안 | Rate Limiting (100 req/min/user) |
| 데이터 암호화 | 민감 정보 AES-256 암호화 저장 |
| SQL Injection | JPA/Hibernate Prepared Statement 사용 |
| XSS 방지 | 입력값 Sanitization, CSP 헤더 |

#### 5.5.2 이미지/파일 처리

| 항목 | 정책 |
|------|------|
| 이미지 포맷 | JPEG, PNG, WebP 지원 |
| 최대 용량 | 이미지 10MB, 파일 50MB |
| 리사이징 | 썸네일 (200x200), 중간 (600x600), 원본 |
| 저장소 | AWS S3 (CloudFront CDN 연동) |
| 압축 | 업로드 시 자동 압축 (품질 80%) |

#### 5.5.3 개인정보 처리

| 항목 | 정책 |
|------|------|
| 수집 항목 | 이메일, 닉네임, 프로필 사진, 위치 (선택) |
| 보관 기간 | 회원 탈퇴 후 30일 |
| 제3자 제공 | 소셜 로그인 제공자 (카카오, 네이버 등) |
| 개인정보 열람/삭제 | 설정 > 개인정보 관리에서 요청 가능 |

#### 5.5.4 성능 및 확장성

| 항목 | 전략 |
|------|------|
| 캐싱 | Redis 캐싱 (스터디 목록, 사용자 프로필) |
| DB 인덱싱 | 검색 필터 컬럼 복합 인덱스 |
| 페이지네이션 | Cursor-based Pagination (대용량 데이터) |
| 이미지 최적화 | Lazy Loading, Progressive JPEG |
| API 응답 압축 | Gzip 압축 |

#### 5.5.5 모니터링 및 로깅

| 항목 | 도구 |
|------|------|
| 에러 모니터링 | Sentry |
| 성능 모니터링 | AWS CloudWatch |
| 로그 관리 | AWS CloudWatch Logs |
| 앱 분석 | Firebase Analytics |

#### 5.5.6 모바일 보안

| 항목 | 구현 방안 |
|------|----------|
| 토큰 저장 | iOS Keychain / Android Keystore 사용 |
| 인증서 고정 | SSL Pinning 적용 (중요 API) |
| 루팅/탈옥 감지 | 기기 무결성 검사 (선택) |
| 난독화 | ProGuard (Android), Bitcode (iOS) |

#### 5.5.7 오프라인 지원

| 항목 | 전략 |
|------|------|
| 기본 캐싱 | 스터디 목록, 프로필 정보 로컬 저장 |
| 채팅 | 오프라인 메시지 큐잉, 온라인 복귀 시 동기화 |
| 이미지 | 썸네일 로컬 캐시 (최대 100MB) |
| 네트워크 상태 | 오프라인 배너 표시, 자동 재시도 |

#### 5.5.8 딥링크 및 공유

| 항목 | 형식 |
|------|------|
| URL 스키마 | `wiedu://` (앱 내부 이동) |
| Universal Link | `https://wiedu.app/` (iOS) |
| App Link | `https://wiedu.app/` (Android) |
| 스터디 공유 | `https://wiedu.app/studies/{id}` |
| 프로필 공유 | `https://wiedu.app/users/{id}` |

#### 5.5.9 WebSocket 재연결 전략

| 상황 | 전략 |
|------|------|
| 연결 끊김 | Exponential Backoff (1s, 2s, 4s, 8s, 최대 30s) |
| 앱 백그라운드 | 연결 해제, 포그라운드 복귀 시 재연결 |
| 네트워크 변경 | 자동 재연결 시도 |
| 최대 재시도 | 10회 후 수동 재연결 버튼 표시 |

### 5.6 비기능 요구사항 (Non-Functional Requirements)

#### 5.6.1 성능 목표

| 지표 | MVP 목표 | Growth 목표 | 측정 방법 |
|------|---------|-------------|----------|
| API 응답 시간 (P95) | < 500ms | < 300ms | CloudWatch Metrics |
| 앱 시작 시간 | < 3초 | < 2초 | Firebase Performance |
| 검색 결과 반환 | < 1초 | < 500ms | 서버 로그 |
| 이미지 로딩 | < 2초 | < 1초 | CDN Metrics |

#### 5.6.2 가용성 및 확장성

| 항목 | MVP | Growth | Scale |
|------|-----|--------|-------|
| 업타임 SLA | 99.0% | 99.5% | 99.9% |
| 동시 접속자 | 100명 | 1,000명 | 10,000명 |
| 일일 API 호출 | 10만 건 | 100만 건 | 1,000만 건 |
| 데이터 보관 | 1년 | 2년 | 영구 |

#### 5.6.3 동시성 처리

| 시나리오 | 처리 방법 |
|----------|----------|
| 스터디 가입 3개 제한 | 승인 트랜잭션 내에서 현재 참여 수 확인 (SELECT FOR UPDATE) |
| 모집 인원 초과 방지 | 낙관적 락 (version 컬럼) + 재시도 로직 |
| 동시 신청 처리 | 신청 테이블 UNIQUE 제약 (user_id, study_id) |
| 채팅 메시지 순서 | 서버 타임스탬프 기준 정렬, 클라이언트 임시 ID |

#### 5.6.4 데이터 무결성

| 상황 | 처리 방법 |
|------|----------|
| 스터디장 탈퇴 시 | 자동 권한 위임 (가입 순서 기준) 또는 스터디 취소 |
| 회원 탈퇴 시 | 작성 콘텐츠 익명화 ("탈퇴한 사용자"), 30일 후 완전 삭제 |
| 멤버 없는 스터디 | 스터디장 탈퇴 시 자동 취소 처리 |
| 진행 중 스터디 탈퇴 | 허용 (단, 후기 작성 불가) |

---

## 6. User Stories

### 6.1 회원가입/로그인

```
사용자로서,
카카오 계정으로 빠르게 가입하고 싶다,
복잡한 회원가입 절차 없이 서비스를 이용하기 위해.

Acceptance Criteria:
- 카카오 로그인 버튼 클릭 시 카카오 인증 화면으로 이동
- 인증 완료 후 앱으로 돌아와 자동 로그인
- 최초 가입 시 닉네임 설정 화면 표시
- 기존 회원은 바로 홈 화면으로 이동
```

### 6.2 스터디 검색

```
취준생으로서,
내 분야(IT)의 프로젝트 스터디를 찾고 싶다,
포트폴리오용 사이드 프로젝트 팀원을 구하기 위해.

Acceptance Criteria:
- 분야(IT) + 유형(프로젝트) 필터 적용 가능
- 검색 결과에 모집중인 스터디만 표시
- 각 스터디의 스터디장 온도 표시
- 스터디 카드 클릭 시 상세 페이지로 이동
```

### 6.3 스터디 생성

```
직장인으로서,
주말 테니스 레슨 그룹을 만들고 싶다,
같은 동네에서 함께 배울 사람을 모집하기 위해.

Acceptance Criteria:
- 단계별 입력 폼으로 쉽게 생성
- 오프라인 선택 시 위치 설정 가능
- 참가비 설정 가능
- 생성 완료 후 즉시 검색에 노출
```

### 6.4 스터디 신청

```
사용자로서,
마음에 드는 스터디에 신청하고 싶다,
함께 공부할 동료를 찾기 위해.

Acceptance Criteria:
- 신청하기 버튼 클릭 시 자기소개 입력 모달 표시
- 신청 완료 후 "대기중" 상태 표시
- 스터디장에게 알림 발송
- 이미 신청한 스터디는 "신청 완료" 표시
```

### 6.5 스터디 채팅

**MVP (외부 채팅 연동):**
```
스터디 멤버로서,
다른 멤버들과 소통하고 싶다,
스터디 일정 조율과 정보 공유를 위해.

Acceptance Criteria:
- 스터디 상세에서 "채팅 참여" 버튼 클릭 시 카카오톡 오픈채팅으로 이동
- 채팅 탭에서 참여 중인 스터디의 외부 채팅 링크 목록 표시
- 링크 미설정 시 "채팅방이 아직 개설되지 않았습니다" 안내
```

**Phase 2 (실시간 채팅):**
```
Acceptance Criteria:
- 스터디 승인 시 자동으로 채팅방 입장
- 메시지 전송 즉시 다른 멤버에게 표시
- 이미지 전송 가능
- 앱 종료 시에도 푸시 알림 수신
```

### 6.6 스터디 게시판

```
스터디장으로서,
중요한 공지사항을 게시판에 올리고 싶다,
모든 멤버에게 필수 정보를 전달하기 위해.

Acceptance Criteria:
- 공지사항 게시글 작성 가능
- 게시글 상단 고정 가능
- 새 공지 등록 시 멤버들에게 푸시 알림
- 멤버들이 댓글로 확인 응답 가능
```

### 6.7 오프라인 일정 등록

```
스터디 멤버로서,
오프라인 모임 일정을 등록하고 참석 여부를 받고 싶다,
효율적인 모임 계획을 위해.

Acceptance Criteria:
- 일정 게시판에서 날짜/시간/장소 입력
- 멤버들이 참석/불참/미정 선택 가능
- 참석자 목록 실시간 확인
- D-1, 당일 알림 발송
```

---

## 7. Success Metrics

### 7.1 핵심 지표 (KPIs)

| 지표 | MVP 목표 | 6개월 목표 | 12개월 목표 |
|------|---------|-----------|------------|
| MAU (월간 활성 사용자) | 1,000 | 10,000 | 50,000 |
| DAU (일간 활성 사용자) | 200 | 2,000 | 10,000 |
| 스터디 생성 수 (월) | 100 | 1,000 | 5,000 |
| 스터디 완주율 | 30% | 40% | 50% |
| 평균 세션 시간 | 5분 | 8분 | 10분 |
| 리텐션 (D7) | 20% | 30% | 40% |
| 앱스토어 평점 | 4.0 | 4.3 | 4.5 |

### 7.2 비즈니스 지표

| 지표 | MVP | Growth | Scale |
|------|-----|--------|-------|
| 회원가입 전환율 | 측정 | 개선 | 최적화 |
| 스터디 신청 전환율 | 측정 | 개선 | 최적화 |
| 프리미엄 전환율 | - | 3% | 5% |
| CAC (유저 획득 비용) | 측정 | 최적화 | 유지 |

### 7.3 사용자 만족도 지표

- NPS (Net Promoter Score): 목표 40+
- 사용자 후기 평균 평점: 4.0+
- 고객 문의 응답 시간: 24시간 이내

---

## 8. Development Roadmap

### Phase 1: MVP (0-3개월)

**Month 1: 기반 구축**
- [ ] 프로젝트 셋업 (React Native + Spring Boot)
- [ ] 데이터베이스 설계 및 구축
- [ ] 회원가입/로그인 구현 (이메일 + 카카오)
- [ ] 기본 UI 컴포넌트 제작
- [ ] 홈 화면 기본 레이아웃

**Month 2: 핵심 기능**
- [ ] 스터디 CRUD 구현
- [ ] 검색/필터링 기능
- [ ] 신청/승인 시스템
- [ ] 사용자 프로필
- [ ] 스터디 상태 관리 (모집중/진행중/종료 - 3상태)

**Month 3: 완성 및 배포**
- [ ] 공지사항 게시판 (단순 CRUD)
- [ ] 외부 채팅 연동 (카카오톡 오픈채팅 링크 저장)
- [ ] 기본 알림 시스템 (신청/승인 알림)
- [ ] 기본 평판 시스템 (온도)
- [ ] 테스트 및 버그 수정
- [ ] 앱스토어/플레이스토어 배포

> **MVP 범위 조정 사유**: 1인 개발자가 3개월 내 실시간 채팅(WebSocket + Redis Pub/Sub)과 6종류 게시판을 구현하면서 품질을 유지하기 어려움. 외부 채팅 연동으로 MVP 출시 후 사용자 피드백을 받으며 Phase 2에서 자체 채팅 구현.

### Phase 2: Growth (4-6개월)

- [ ] **실시간 채팅 구현** (WebSocket + STOMP)
- [ ] **스터디 게시판 확장** (자유게시판, 일정, 자료공유, Q&A)
- [ ] 네이버/구글/애플 로그인 추가
- [ ] 친구 시스템
- [ ] 동네 기반 추천
- [ ] 별점/뱃지 시스템
- [ ] 푸시 알림 고도화 (일정 알림, 멘션 등)
- [ ] 신고/차단 시스템
- [ ] 홈 피드 추천 알고리즘 개선
- [ ] 성능 최적화

### Phase 3: Scale (7-12개월)

- [ ] 프리미엄 구독 기능
- [ ] 전문가 인증 시스템
- [ ] AI 기반 스터디 추천
- [ ] AI 매칭 알고리즘
- [ ] 관리자 대시보드 (신고 처리, 통계)
- [ ] 마케팅 툴 통합

---

## 9. Risks & Mitigations

### 9.1 비즈니스 리스크

| 리스크 | 영향 | 가능성 | 대응 방안 |
|--------|------|--------|----------|
| 개발 지연 | 높음 | 중간 | MVP 범위 축소, 우선순위 재조정 |
| 사용자 확보 어려움 | 높음 | 높음 | 초기 바이럴 마케팅, 커뮤니티 활용 |
| 노쇼/불량 사용자 | 중간 | 높음 | 평판 시스템 강화, 신고 기능 |
| 서버 비용 증가 | 중간 | 중간 | 효율적 인프라 설계, 캐싱 최적화 |
| 경쟁 앱 등장 | 중간 | 중간 | 차별화 기능 강화, 빠른 iteration |

### 9.2 기술적 리스크

| 리스크 | 영향 | 가능성 | 대응 방안 |
|--------|------|--------|----------|
| 소셜 로그인 API 변경 | 높음 | 낮음 | 추상화 레이어 구현, 공식 SDK 사용, 모니터링 |
| React Native 버전 호환성 | 중간 | 중간 | Expo 관리형 워크플로우 사용, LTS 버전 유지 |
| 앱스토어 심사 거절 | 높음 | 중간 | 가이드라인 사전 검토, 테스트플라이트 베타 테스트 |
| 동시성 문제 (스터디 가입) | 높음 | 중간 | SELECT FOR UPDATE + 낙관적 락, 재시도 로직 |
| 푸시 알림 전송 실패 | 중간 | 중간 | FCM/APNs 이중화, 실패 시 재시도 큐 |
| 이미지 업로드 용량 초과 | 낮음 | 높음 | 클라이언트 압축, 최대 용량 제한 (5MB) |
| JWT 토큰 탈취 | 높음 | 낮음 | 짧은 만료 시간 (1시간), Refresh Token Rotation |
| DB 성능 저하 (스터디 검색) | 중간 | 중간 | 인덱스 최적화, 검색 결과 캐싱 (Redis) |

### 9.3 운영 리스크

| 리스크 | 영향 | 가능성 | 대응 방안 |
|--------|------|--------|----------|
| 1인 개발 번아웃 | 높음 | 높음 | MVP 범위 엄격 준수, 주 50시간 제한, 자동화 우선 |
| 사용자 문의 폭주 | 중간 | 중간 | FAQ 자동 응답, 문의 템플릿화 |
| 개인정보 유출 | 높음 | 낮음 | 암호화 저장, 최소 수집 원칙, 보안 감사 |
| 서비스 장애 | 높음 | 낮음 | 헬스체크 자동화, 장애 알림 (Slack), 롤백 프로세스 |

---

## 10. Appendix

### 10.1 벤치마킹 분석

**인프런 ZERO ONE IT:**
- 6가지 스터디 유형
- 온도 기반 평판 시스템 (40.0°C 형식)
- 멤버 상호 평가 기능
- Q&A 게시판
- 300+ 사용자, 2000명 목표

**당근마켓 동네생활:**
- 동네 기반 커뮤니티
- 매너온도 시스템
- 간단한 UI/UX

**오픈채팅/디스코드:**
- 익명성으로 인한 신뢰 문제
- 노쇼 빈번

### 10.2 용어 정의

| 용어 | 정의 |
|------|------|
| 스터디장 | 스터디를 개설하고 관리하는 사용자 |
| 스터디원 | 스터디에 참여하는 멤버 |
| 온도 | 사용자 신뢰도를 나타내는 지표 (36.5°C 기준) |
| 완주 | 스터디를 끝까지 참여하여 종료한 상태 |
| 노쇼 | 사전 연락 없이 스터디에 불참한 경우 |

---

## 11. 승인

| 역할 | 이름 | 날짜 | 서명 |
|------|------|------|------|
| Product Owner | | | |
| Tech Lead | | | |
| Designer | | | |

---

*이 문서는 wiedu 앱 개발의 기준 문서로, 개발 진행에 따라 업데이트될 수 있습니다.*
